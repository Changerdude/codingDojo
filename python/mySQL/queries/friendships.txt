INSERT INTO users (first_name,last_name) VALUES ("Kurt","Jeffries"),("Jawn","O'Niel"),("Steve","Gerard"),("Vic","Cerami"),("Spencer","Kaplan"),("Jake","Donlan");
INSERT INTO friendships (user_id,friend_id) VALUES (1,2),(1,4),(1,6);
INSERT INTO friendships (user_id,friend_id) VALUES (2,1),(2,3),(2,5);
INSERT INTO friendships (user_id,friend_id) VALUES (3,2),(3,5);
INSERT INTO friendships (user_id,friend_id) VALUES (4,3);
INSERT INTO friendships (user_id,friend_id) VALUES (5,1),(5,6);
INSERT INTO friendships (user_id,friend_id) VALUES (6,2),(6,3);
SELECT users.first_name,users.last_name,user2.first_name as friend_first_name,user2.last_name as friend_last_name FROM users JOIN friendships ON users.id = friendships.user_id LEFT JOIN users as user2 ON friendships.friend_id = user2.id;
SELECT user2.first_name,user2.last_name FROM users JOIN friendships ON users.id = friendships.user_id LEFT JOIN users as user2 ON friendships.friend_id = user2.id WHERE friendships.user_id = 1;
SELECT COUNT(id) as number_of_friendships FROM friendships GROUP BY user_id;
SELECT COUNT(friendships.id) as number_of_friends,users.first_name,users.last_name as number_of_friendships FROM friendships JOIN users ON friendships.user_id = users.id GROUP BY friendships.user_id ORDER BY COUNT(friendships.id) DESC LIMIT 1;
SELECT users.first_name,users.last_name FROM friendships JOIN users ON friendships.friend_id = users.id WHERE friendships.user_id = 3 ORDER BY users.last_name;